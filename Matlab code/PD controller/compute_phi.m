function [phii]=compute_phi(th1,th2,th3,th4,th5,th6,th7,th1dot,th2dot,th3dot,th4dot,th5dot,th6dot,th7dot,g,elmIndex)

switch elmIndex
    
case 1

phii = 0; 
case 2
phii = (21633*g*((421*sin(th5)*(sin(th2)*sin(th4) + cos(th2)*cos(th3)*cos(th4)))/1000 - (13*cos(th4)*sin(th2))/50 - (2*sin(th2))/5 + (13*cos(th2)*cos(th3)*sin(th4))/50 + (421*cos(th2)*cos(th5)*sin(th3))/1000))/10000 - (3129*g*((2*sin(th2))/5 + (2*cos(th4)*sin(th2))/5 - (31*cos(th7)*(sin(th5)*(sin(th2)*sin(th4) + cos(th2)*cos(th3)*cos(th4)) + cos(th2)*cos(th5)*sin(th3)))/500 + (63*sin(th6)*(cos(th5)*(sin(th2)*sin(th4) + cos(th2)*cos(th3)*cos(th4)) - cos(th2)*sin(th3)*sin(th5)))/500 + (63*cos(th6)*(cos(th4)*sin(th2) - cos(th2)*cos(th3)*sin(th4)))/500 - (31*sin(th7)*(cos(th6)*(cos(th5)*(sin(th2)*sin(th4) + cos(th2)*cos(th3)*cos(th4)) - cos(th2)*sin(th3)*sin(th5)) - sin(th6)*(cos(th4)*sin(th2) - cos(th2)*cos(th3)*sin(th4))))/500 - (2*cos(th2)*cos(th3)*sin(th4))/5))/1000 + (11733*g*((sin(th6)*(cos(th5)*(sin(th2)*sin(th4) + cos(th2)*cos(th3)*cos(th4)) - cos(th2)*sin(th3)*sin(th5)))/500 - (2*cos(th4)*sin(th2))/5 - (2*sin(th2))/5 + (cos(th6)*(cos(th4)*sin(th2) - cos(th2)*cos(th3)*sin(th4)))/500 + (2*cos(th2)*cos(th3)*sin(th4))/5))/5000 - (20281*g*((311*sin(th2))/1000 - (cos(th2)*cos(th3))/50 + (429*cos(th2)*sin(th3))/1000))/5000 - (17411*g*((2*sin(th2))/5 + (17*cos(th2)*sin(th3))/500 - (67*cos(th4)*sin(th2))/1000 + (67*cos(th2)*cos(th3)*sin(th4))/1000))/5000 + (34821*g*((17*cos(th2))/500 + (67*sin(th2))/1000))/10000;
case 3
phii = - (21633*g*((13*sin(th2)*sin(th3)*sin(th4))/50 - (421*cos(th3)*cos(th5)*sin(th2))/1000 + (421*cos(th4)*sin(th2)*sin(th3)*sin(th5))/1000))/10000 - (3129*g*((31*sin(th7)*(cos(th6)*(cos(th3)*sin(th2)*sin(th5) + cos(th4)*cos(th5)*sin(th2)*sin(th3)) + sin(th2)*sin(th3)*sin(th4)*sin(th6)))/500 - (31*cos(th7)*(cos(th3)*cos(th5)*sin(th2) - cos(th4)*sin(th2)*sin(th3)*sin(th5)))/500 - (63*sin(th6)*(cos(th3)*sin(th2)*sin(th5) + cos(th4)*cos(th5)*sin(th2)*sin(th3)))/500 + (2*sin(th2)*sin(th3)*sin(th4))/5 + (63*cos(th6)*sin(th2)*sin(th3)*sin(th4))/500))/1000 - (17411*g*((17*cos(th3)*sin(th2))/500 - (67*sin(th2)*sin(th3)*sin(th4))/1000))/5000 - (20281*g*((429*cos(th3)*sin(th2))/1000 + (sin(th2)*sin(th3))/50))/5000 - (11733*g*((sin(th6)*(cos(th3)*sin(th2)*sin(th5) + cos(th4)*cos(th5)*sin(th2)*sin(th3)))/500 + (2*sin(th2)*sin(th3)*sin(th4))/5 - (cos(th6)*sin(th2)*sin(th3)*sin(th4))/500))/5000; 
case 4
phii =(17411*g*((67*cos(th2)*sin(th4))/1000 - (67*cos(th3)*cos(th4)*sin(th2))/1000))/5000 - (11733*g*((2*cos(th2)*sin(th4))/5 - (cos(th6)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)))/500 + (cos(th5)*sin(th6)*(cos(th2)*cos(th4) + cos(th3)*sin(th2)*sin(th4)))/500 - (2*cos(th3)*cos(th4)*sin(th2))/5))/5000 - (21633*g*((13*cos(th2)*sin(th4))/50 + (421*sin(th5)*(cos(th2)*cos(th4) + cos(th3)*sin(th2)*sin(th4)))/1000 - (13*cos(th3)*cos(th4)*sin(th2))/50))/10000 - (3129*g*((2*cos(th2)*sin(th4))/5 + (63*cos(th6)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)))/500 + (31*sin(th7)*(sin(th6)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)) + cos(th5)*cos(th6)*(cos(th2)*cos(th4) + cos(th3)*sin(th2)*sin(th4))))/500 - (63*cos(th5)*sin(th6)*(cos(th2)*cos(th4) + cos(th3)*sin(th2)*sin(th4)))/500 + (31*cos(th7)*sin(th5)*(cos(th2)*cos(th4) + cos(th3)*sin(th2)*sin(th4)))/500 - (2*cos(th3)*cos(th4)*sin(th2))/5))/1000;
case 5
phii = (11733*g*sin(th6)*(sin(th5)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)) - cos(th5)*sin(th2)*sin(th3)))/2500000 - (21633*g*((421*cos(th5)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)))/1000 + (421*sin(th2)*sin(th3)*sin(th5))/1000))/10000 - (3129*g*((31*cos(th7)*(cos(th5)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)) + sin(th2)*sin(th3)*sin(th5)))/500 + (63*sin(th6)*(sin(th5)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)) - cos(th5)*sin(th2)*sin(th3)))/500 - (31*cos(th6)*sin(th7)*(sin(th5)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)) - cos(th5)*sin(th2)*sin(th3)))/500))/1000;
case 6
phii = (3129*g*((63*cos(th6)*(cos(th5)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)) + sin(th2)*sin(th3)*sin(th5)))/500 - (63*sin(th6)*(cos(th2)*cos(th4) + cos(th3)*sin(th2)*sin(th4)))/500 + (31*sin(th7)*(sin(th6)*(cos(th5)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)) + sin(th2)*sin(th3)*sin(th5)) + cos(th6)*(cos(th2)*cos(th4) + cos(th3)*sin(th2)*sin(th4))))/500))/1000 - (11733*g*((cos(th6)*(cos(th5)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)) + sin(th2)*sin(th3)*sin(th5)))/500 - (sin(th6)*(cos(th2)*cos(th4) + cos(th3)*sin(th2)*sin(th4)))/500))/5000;
case 7
phii =  (3129*g*((31*sin(th7)*(sin(th5)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)) - cos(th5)*sin(th2)*sin(th3)))/500 - (31*cos(th7)*(cos(th6)*(cos(th5)*(cos(th2)*sin(th4) - cos(th3)*cos(th4)*sin(th2)) + sin(th2)*sin(th3)*sin(th5)) - sin(th6)*(cos(th2)*cos(th4) + cos(th3)*sin(th2)*sin(th4))))/500))/1000;
end
