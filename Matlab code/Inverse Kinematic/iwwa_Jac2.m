function M = iwwa_Jac2(v)

th1 = v(1);
th2 = v(2);
th3 = v(3);
th4 = v(4);
th5 = v(5);
th6 = v(6);
th7 = v(7);
 L1 = 0.34;
L2 = 0.4;
L3 = 0.4;
L4 = 0.126;



M = [   (cos(th1)*(sin(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) - L4*cos(th3)*sin(th5)*sin(th6)) + sin(th1)*(cos(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6))))*(cos(th1)*(sin(th2)*(sin(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) + cos(th4)*cos(th7)*sin(th6)) + cos(th2)*(cos(th3)*(cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6)) + sin(th3)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5)))) - sin(th1)*(sin(th3)*(cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6)) - cos(th3)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5)))) + (sin(th1)*(sin(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) - L4*cos(th3)*sin(th5)*sin(th6)) - cos(th1)*(cos(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6))))*(cos(th1)*(sin(th3)*(cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6)) - cos(th3)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5))) + sin(th1)*(sin(th2)*(sin(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) + cos(th4)*cos(th7)*sin(th6)) + cos(th2)*(cos(th3)*(cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6)) + sin(th3)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5))))),   (sin(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) + cos(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6)))*(sin(th2)*(sin(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) + cos(th4)*cos(th7)*sin(th6)) + cos(th2)*(cos(th3)*(cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6)) + sin(th3)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5)))) + (cos(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6)))*(cos(th2)*(sin(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) + cos(th4)*cos(th7)*sin(th6)) - sin(th2)*(cos(th3)*(cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6)) + sin(th3)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5)))), (sin(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) - L4*cos(th3)*sin(th5)*sin(th6))*(cos(th3)*(cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6)) + sin(th3)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5))) - (cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6))*(sin(th3)*(cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6)) - cos(th3)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5))), - (sin(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) + cos(th4)*cos(th7)*sin(th6))*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) - (cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6))*(cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6)), - L4*cos(th5)*sin(th6)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5)) - L4*sin(th5)*sin(th6)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)), - L4*cos(th6)^2*cos(th7) - L4*cos(th7)*sin(th6)^2, 0;
                                                                                                                                                                                                                                                                                                                                                                               (cos(th1)*(sin(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) - L4*cos(th3)*sin(th5)*sin(th6)) + sin(th1)*(cos(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6))))*(sin(th1)*(sin(th3)*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)) - cos(th3)*sin(th5)*sin(th6)) - cos(th1)*(cos(th2)*(cos(th3)*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)) + sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(cos(th4)*cos(th6) + cos(th5)*sin(th4)*sin(th6)))) - (sin(th1)*(sin(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) - L4*cos(th3)*sin(th5)*sin(th6)) - cos(th1)*(cos(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6))))*(cos(th1)*(sin(th3)*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)) - cos(th3)*sin(th5)*sin(th6)) + sin(th1)*(cos(th2)*(cos(th3)*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)) + sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(cos(th4)*cos(th6) + cos(th5)*sin(th4)*sin(th6)))),                                                                                                                                                                                                                                 (cos(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6)))*(sin(th2)*(cos(th3)*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)) + sin(th3)*sin(th5)*sin(th6)) + cos(th2)*(cos(th4)*cos(th6) + cos(th5)*sin(th4)*sin(th6))) - (sin(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) + cos(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6)))*(cos(th2)*(cos(th3)*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)) + sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(cos(th4)*cos(th6) + cos(th5)*sin(th4)*sin(th6))),                                                                                                                                               (cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6))*(sin(th3)*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)) - cos(th3)*sin(th5)*sin(th6)) - (sin(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) - L4*cos(th3)*sin(th5)*sin(th6))*(cos(th3)*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)) + sin(th3)*sin(th5)*sin(th6)),                                                                                   (cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6))*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)) - (sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6))*(cos(th4)*cos(th6) + cos(th5)*sin(th4)*sin(th6)),                                                                                                                                               0,                                                 0, 0;
 - (cos(th1)*(sin(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) - L4*cos(th3)*sin(th5)*sin(th6)) + sin(th1)*(cos(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6))))*(cos(th1)*(sin(th2)*(sin(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) - cos(th4)*sin(th6)*sin(th7)) + cos(th2)*(cos(th3)*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)) + sin(th3)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7)))) - sin(th1)*(sin(th3)*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)) - cos(th3)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7)))) - (sin(th1)*(sin(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) - L4*cos(th3)*sin(th5)*sin(th6)) - cos(th1)*(cos(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6))))*(cos(th1)*(sin(th3)*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)) - cos(th3)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7))) + sin(th1)*(sin(th2)*(sin(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) - cos(th4)*sin(th6)*sin(th7)) + cos(th2)*(cos(th3)*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)) + sin(th3)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7))))), - (sin(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) + cos(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6)))*(sin(th2)*(sin(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) - cos(th4)*sin(th6)*sin(th7)) + cos(th2)*(cos(th3)*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)) + sin(th3)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7)))) - (cos(th2)*(cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6)) - sin(th2)*(L2 + cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6)))*(cos(th2)*(sin(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) - cos(th4)*sin(th6)*sin(th7)) - sin(th2)*(cos(th3)*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)) + sin(th3)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7)))), (cos(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) + L4*sin(th3)*sin(th5)*sin(th6))*(sin(th3)*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)) - cos(th3)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7))) - (sin(th3)*(sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6)) - L4*cos(th3)*sin(th5)*sin(th6))*(cos(th3)*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)) + sin(th3)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7))),   (cos(th4)*(L3 + L4*cos(th6)) + L4*cos(th5)*sin(th4)*sin(th6))*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)) + (sin(th4)*(L3 + L4*cos(th6)) - L4*cos(th4)*cos(th5)*sin(th6))*(sin(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) - cos(th4)*sin(th6)*sin(th7)),   L4*cos(th5)*sin(th6)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7)) + L4*sin(th5)*sin(th6)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)), - L4*cos(th6)^2*sin(th7) - L4*sin(th6)^2*sin(th7), 0;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    cos(th2)*(sin(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) + cos(th4)*cos(th7)*sin(th6)) - sin(th2)*(cos(th3)*(cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6)) + sin(th3)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5))),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         sin(th3)*(cos(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) - cos(th7)*sin(th4)*sin(th6)) - cos(th3)*(cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5)),                                                                                                                                                                                                                                                                                                                                                                                                                                                              sin(th4)*(sin(th5)*sin(th7) - cos(th5)*cos(th6)*cos(th7)) + cos(th4)*cos(th7)*sin(th6),                                                                                                                                                                                                                                                                    cos(th5)*sin(th7) + cos(th6)*cos(th7)*sin(th5),                                                                                                                               cos(th7)*sin(th6),                                         -sin(th7), 0;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   sin(th2)*(cos(th3)*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)) + sin(th3)*sin(th5)*sin(th6)) + cos(th2)*(cos(th4)*cos(th6) + cos(th5)*sin(th4)*sin(th6)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                cos(th3)*sin(th5)*sin(th6) - sin(th3)*(cos(th6)*sin(th4) - cos(th4)*cos(th5)*sin(th6)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      cos(th4)*cos(th6) + cos(th5)*sin(th4)*sin(th6),                                                                                                                                                                                                                                                                                                -sin(th5)*sin(th6),                                                                                                                                        cos(th6),                                                 0, 1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    sin(th2)*(cos(th3)*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)) + sin(th3)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7))) - cos(th2)*(sin(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) - cos(th4)*sin(th6)*sin(th7)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         cos(th3)*(cos(th5)*cos(th7) - cos(th6)*sin(th5)*sin(th7)) - sin(th3)*(cos(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)) + sin(th4)*sin(th6)*sin(th7)),                                                                                                                                                                                                                                                                                                                                                                                                                                                              cos(th4)*sin(th6)*sin(th7) - sin(th4)*(cos(th7)*sin(th5) + cos(th5)*cos(th6)*sin(th7)),                                                                                                                                                                                                                                                                    cos(th6)*sin(th5)*sin(th7) - cos(th5)*cos(th7),                                                                                                                               sin(th6)*sin(th7),                                          cos(th7), 0];
 